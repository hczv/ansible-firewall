---
# defaults file for ansible-squid
squid_port: 3128
squid_cache_dir: /var/spool/squid
squid_cache_size: 10000
squid_max_object_size: 4096 KB
squid_max_object_size_in_memory: 512 KB
squid_auth_users: []
  # Example:
  # - username: user1
  #   password: password1
  #   whitelist:
  #     - .whitelisted-domain-for-user1.com
  #   non_ssl_whitelist:
  #     - .non-ssl-whitelisted-domain-for-user1.com
squid_acl_domains: []
  # Example:
  # - name: allowed_domains
  #   domains:
  #     - .google.com
  #     - .github.com
squid_ssl_bump_enabled: false
squid_ssl_bump_cert_country: "US"
squid_ssl_bump_cert_state: "Some-State"
squid_ssl_bump_cert_locality: "Some-City"
squid_ssl_bump_cert_organization: "Ansible Squid"
squid_ssl_bump_cert_organizational_unit: "IT"
squid_ssl_bump_cert_common_name: "Ansible Squid Proxy"
squid_ssl_bump_cert_path: "/etc/squid/ssl/squid.pem"
squid_ssl_bump_key_path: "/etc/squid/ssl/squid.key"
squid_ssl_bump_client_private_key: "/etc/squid/ssl_cert/squid_priv.pem"
squid_ssl_bump_client_cert: "/etc/squid/ssl_cert/squid_cert.pem"
squid_ssl_bump_client_cert_dir: "/etc/squid/ssl_cert"
squid_ssl_bump_client_cert_db_dir: "/var/lib/ssl_db"

# System user/group that runs squid (distribution dependent: 'proxy' or 'squid')
squid_user: proxy
squid_group: proxy

# Path to squid configuration file
squid_conf_path: /etc/squid/squid.conf

# Path to basic ncsa auth binary; distribution paths differ (e.g. /usr/lib/squid/basic_ncsa_auth
# or /usr/libexec/squid/basic_ncsa_auth). Override if needed.
squid_basic_ncsa_auth_path: /usr/lib/squid/basic_ncsa_auth

# Path to htpasswd file managed by role
squid_passwd_path: /etc/squid/passwd

# Authentication mode: kept for compatibility. Default 'both' enables both htpasswd and IP ACLs.
# You do not need to switch modes â€” the role supports using both user/password and IP-based
# allowances simultaneously. Set to 'both', 'htpasswd', or 'ip' if you need to restrict behavior.
squid_auth_mode: both

# Legacy: when using `squid_auth_mode: ip` (or when using legacy variables) list allowed source IPs/CIDRs here
squid_ip_allowed: []

# New-style named domain whitelist lists. Each entry has a `name` and `domains`.
# Example:
# squid_whitelist_domains:
#   - name: update-domains
#     domains:
#       - example.com
#       - example.org
squid_whitelist_domains: []

# New user/ip structures. These provide a mapping to named whitelist lists.
# Example:
# squid_users:
#   - username: admin
#     password: secret
#     whitelists:
#       - update-domains
squid_users: []

# Example IP entries:
# squid_ips:
#   - ips:
#       - 1.2.3.4
#       - 1.2.4.5
#     whitelists:
#       - update-domains
squid_ips: []

